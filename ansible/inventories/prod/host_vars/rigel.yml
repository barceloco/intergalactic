---
hostname: "rigel"
enable_desktop: false
enable_docker: true

# LUKS/cryptsetup: Installed for mounting external encrypted devices
# No configuration needed - cryptsetup is installed and ready to use

# Samba configuration
enable_samba: true
# Samba uses its own password database (smbpasswd)
# Password is set from samba_armand_passwords[inventory_hostname] in all_secrets.yml
# Set it to match the system password if you want to use the same password
# Future system password changes will sync to Samba automatically

# Docker deployment configuration
enable_docker_deploy: true
docker_deploy_tcp_ports:
  - 8000   # API
  - 5432   # PostgreSQL
  - 6379   # Redis
  - 9000   # MinIO
  - 9001   # MinIO

# Internal DNS configuration
internal_dns_enabled: true
internal_dns_domain: exnada.com
internal_dns_private_hosts:
  - mpnas
  - aispector
  - dev

# Edge ingress configuration
edge_ingress_enabled: true
edge_ingress_domain: exnada.com
edge_ingress_acme_email: admin@exnada.com
edge_ingress_use_tailscale_fqdn: true
edge_ingress_disable_tls: false  # TLS enabled - certificates managed by cert_issuer role
edge_ingress_backend_timeout_connect: 30s
edge_ingress_backend_timeout_response: 60s
edge_ingress_routes:
  - host: mpnas.exnada.com
    backend: http://mpnas:5000
    # No health_path - Synology doesn't provide a health endpoint
  - host: aispector.exnada.com
    backend: http://vega:8000
    health_path: /health
  - host: dev.exnada.com
    backend: http://rigel:8000
    health_path: /health

# Certificate issuer configuration (lego with GoDaddy DNS-01)
cert_issuer_enabled: true
cert_issuer_domain: exnada.com
cert_issuer_wildcard: true  # *.exnada.com + exnada.com
cert_issuer_email: admin@exnada.com
  cert_issuer_ca_server: production  # Production Let's Encrypt certificates
cert_issuer_renew_days: 30
